{% form_theme form '@CookieConsent/form/cookie_consent_form_theme.html.twig' %}

{% block script %}
    <script type="text/javascript" src="{{ asset('bundles/cookieconsent/js/cookie_consent.js') }}"></script>
{% endblock %}

{# Wrap in dialog tag if position is dialog #}
{% if position == 'dialog' %}
<dialog class="cookie-consent-dialog">
{% endif %}

    <div class="cookie-consent cookie-consent--{{ theme }}-theme cookie-consent--{{ position }}">
        {% block title %}
            <h3 class="cookie-consent__title">{{ 'cookie_consent.title'|trans({}, 'CookieConsentBundle') }}</h3>
        {% endblock %}

        {% block intro %}
            <p class="cookie-consent__intro">{{ 'cookie_consent.intro'|trans({}, 'CookieConsentBundle') }}</p>
        {% endblock %}

        {% block read_more %}
            <a class="cookie-consent__read-more"
               href="{% block read_more_link %}/privacy-statement{% endblock %}">{{ 'cookie_consent.read_more'|trans({}, 'CookieConsentBundle') }}</a>
        {% endblock %}

        {{ form_start(form, {'attr': {'class': 'cookie-consent__form'}}) }}
        <div class="cookie-consent__category-group">
            <div class="cookie-consent__category">
                <div class="cookie-consent__category-information">
                    <h4 class="cookie-consent__category-title">{{ ('cookie_consent.required_cookies.title')|trans({}, 'CookieConsentBundle') }}</h4>
                    <p class="cookie-consent__category-description">{{ ('cookie_consent.required_cookies.description')|trans({}, 'CookieConsentBundle') }}</p>
                </div>
            </div>
            {% for child in form %}
                {% if child.vars.block_prefixes[0] != 'button' %}
                    {{ form_row(child) }}
                {% endif %}
            {% endfor %}
        </div>

        <div class="cookie-consent__btn-group">
            {{ form_rest(form) }}
        </div>
        {{ form_end(form) }}
    </div>

{% if position == 'dialog' %}
</dialog>
{% endif %}